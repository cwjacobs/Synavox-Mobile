<Page class="page" navigatingTo="onNavigatingTo" loaded="onLoaded" navigatingFrom="onNavigatingFrom" xmlns="http://schemas.nativescript.org/tns.xsd" xmlns:parallax="nativescript-parallax">
	<ActionBar class="action-bar">
		<!-- 
        Use the NavigationButton as a side-drawer button in Android
        because ActionItems are shown on the right side of the ActionBar
        -->
		<NavigationButton ios:visibility="collapsed" icon="res://menu" tap="onDrawerButtonTap"></NavigationButton>
		<ActionItem icon="res://navigation/menu" android:visibility="collapsed" tap="onDrawerButtonTap" ios.position="left"></ActionItem>
		<StackLayout>
			<Label class="action-bar-title" text="{{ i18nMedicineCabinetOwnerTitle }}"></Label>
			<Label class="action-bar-subtitle" text="{{ i18nSynavoxSubPageTitle }}"></Label>
		</StackLayout>
	</ActionBar>
	<StackLayout>
		<parallax:ParallaxView height="75%" background="white">
			<parallax:Header class="header-template" dropShadow="false"></parallax:Header>
			<parallax:Anchored class="anchor" height="100vh">
				<TabView class="list-container" id="tabViewContainer" loaded="onTabsLoaded" selectedIndex="{{ tabSelectedIndex ? tabSelectedIndex : 0 }}" selectedIndexChanged="onSelectedIndexChanged">
					<TabViewItem class="fa" title="{{ i18nMe }}">
						<GridLayout rows="auto" columns="auto,*,*">
							<Label class="h2 text-left tab1 tabs fa" text="{{ i18nMyPrescriptions }}" textWrap="true" row="0" col="0" />
							<Label class="h2 text-right tab1 tabs fa" style="margin-right: 10vw" text="&#xf196;" row="0" col="1" onTap="onAddMedTap" />
							<Label class="h2 text-right tab1 tabs fa" style="margin-right: 10vw" id="delete-t1-medicine" text="&#xf147;" row="0" col="2" onTap="onDeleteMedTap" />
						</GridLayout>
					</TabViewItem>
					<TabViewItem class="fa" title="{{ i18nMom, i18nMom + ' &#xf1e0;' }}">
						<GridLayout rows="auto" columns="auto,*,*">
							<Label class="h2 text-left tab1 tabs fa" text="{{ i18nMomsPrescriptions }}" textWrap="true" row="0" col="0" />
							<Label class="h2 text-right tab1 tabs fa" style="margin-right: 10vw" text="&#xf196;" row="0" col="1" onTap="onAddMedTap" />
							<Label class="h2 text-right tab1 tabs fa" style="margin-right: 10vw" id="delete-t2-medicine" text="&#xf147;" row="0" col="2" onTap="onDeleteMedTap" />
						</GridLayout>
					</TabViewItem>
					<TabViewItem class="fa" title="{{ i18nDad, i18nDad + ' &#xf1e0;' }}">
						<GridLayout rows="auto" columns="auto,*,*">
							<Label class="h2 text-left tab1 tabs fa" text="{{ i18nDadsPrescriptions }}" textWrap="true" row="0" col="0" />
							<Label class="h2 text-right tab1 tabs fa" style="margin-right: 10vw" text="&#xf196;" row="0" col="1" onTap="onAddMedTap" />
							<Label class="h2 text-right tab1 tabs fa" style="margin-right: 10vw" id="delete-t3-medicine" text="&#xf147;" row="0" col="2" onTap="onDeleteMedTap" />
						</GridLayout>
					</TabViewItem>
				</TabView>
			</parallax:Anchored>
			<parallax:Content class="body-template" height="550vh" stretchLastChild="false" background="white">
				<!-- Current Medicine Line-Item: Name and Doses -->
				<StackLayout class="list-container">
					<GridLayout rows="auto" columns="30vw, 170vw,*,*,*,*,*">
						<Label class="pairing-TagIcon fas" id="current-medicine-name-icon" text="&#xf484;" row="0" col="0" colSpan="1" returnKeyType="done" />
						<TextField class="pairing-MedicineName fas" id="current-medicine-name" text="{{ currentMedicineName }}" row="0" col="1" colSpan="1" returnKeyType="done" />
						<!-- <TextField class="pairing-MedicineName fas" id="current-medicine-name" text="{{ currentMedicineName, '&#xf484; ' + currentMedicineName }}" row="0" col="0" colSpan="1" returnKeyType="done" /> -->
						<Label class="reminder-mark fa" id="current1" text="&#xf058;" row="0" col="2" onTap="current1"/>
						<Label class="reminder-mark fa" id="current2" text="&#xf058;" row="0" col="3" onTap="current2" />
						<Label class="reminder-mark fa" id="current3" text="&#xf058;" row="0" col="4" onTap="current3" />
						<Label class="reminder-mark fa" id="current4" text="&#xf058;" row="0" col="5" onTap="current4" />
						<Label class="reminder-mark fa" id="current5" text="&#xf058;" row="0" col="6" onTap="current5" />
					</GridLayout>
					<Label class="daily-instruction" text="{{ i18nDailyInstructions }}" />
					<StackLayout class="hr-light"></StackLayout>
				</StackLayout>
				<DockLayout width="auto" height="420vh" background="white">
					<!-- Medicine Line-Items: Names and Doses -->
					<ListView class="list-container" id="medicine-list" items="{{ medicineList }}" itemTap="onItemTap" height="230vh" background="white" dock="top">
						<ListView.itemTemplate>
							<GridLayout rows="auto" columns="200vw,*,*,*,*,*">
								<Label class="list-MedicineName" text="{{ medicineName }}" row="0" col="0" colSpan="1" />
								<Label class="reminder-mark fa" id="{{ medicineName, medicineName + '1' }}" text="&#xf058;" row="0" col="1" />
								<Label class="reminder-mark fa" id="{{ medicineName, medicineName + '2' }}" text="&#xf058;" row="0" col="2" />
								<Label class="reminder-mark fa" id="{{ medicineName, medicineName + '3' }}" text="&#xf058;" row="0" col="3" />
								<Label class="reminder-mark fa" id="{{ medicineName, medicineName + '4' }}" text="&#xf058;" row="0" col="4" />
								<Label class="reminder-mark fa" id="{{ medicineName, medicineName + '5' }}" text="&#xf058;" row="0" col="5" />
							</GridLayout>
						</ListView.itemTemplate>
					</ListView>
					<StackLayout dock="bottom">
						<image src="~/images/logo.png" height="auto" width="230vw" onTap="onLogoTap" />
					</StackLayout>
				</DockLayout>
			</parallax:Content>
		</parallax:ParallaxView>
		<GridLayout class="list-container button-row" rows="auto" columns="*,*" visibility="{{ isAddingNewMedicine ? 'visible' : 'collapsed' }}">
			<!-- Change Doses Required Daily -->
			<Button class="button my-button primary" text="{{ i18nSave }}" row="0" col="0" onTap="onSaveNewMedicineTap" />
			<!-- Change Doses Taken Today -->
			<Button class="button my-button alert" text="{{ i18nCancel }}" row="0" col="1" onTap="onCancelNewMedicineTap" />
		</GridLayout>
		<GridLayout class="list-container button-row" rows="auto" columns="*,*" visibility="{{ isAddingNewMedicine ? 'collapsed' : 'visible' }}">
			<!-- Change Doses Required Daily -->
			<Button class="button my-button secondary" id="edit-total-required-doses" text="{{ i18nEditTotalDosesPerDayButtonText }}" visibility="{{ isEditingTotalDosesPerDay ? 'collapsed' : 'visible' }}" row="0" col="0" onTap="onChangeTotalDosesPerDayTap" />
			<GridLayout rows="auto" columns="auto,*" visibility="{{ isEditingTotalDosesPerDay ? 'visible' : 'collapsed' }}" row="0" col="0">
				<Button class="button my-button-small secondary" text="{{ i18nSaveButtonText }}" row="0" col="0" onTap="onSaveTotalDosesPerDayTap" />
				<Button class="button my-button-small alert" text="{{ i18nCancelButtonText }}" row="0" col="1" onTap="onCancelTotalDosesPerDayTap" />
			</GridLayout>
			<!-- Change Doses Taken Today -->
			<Button class="button my-button primary" id="edit-doses-taken-today" text="{{ i18nEditDosesTakenTodayButtonText }}" visibility="{{ isEditingDosesTakenToday ? 'collapsed' : 'visible' }}" row="0" col="1" onTap="onChangeDosesTakenTodayTap" />
			<GridLayout rows="auto" columns="auto,*" visibility="{{ isEditingDosesTakenToday ? 'visible' : 'collapsed' }}" row="0" col="1">
				<Button class="button my-button-small primary" text="{{ i18nSaveButtonText }}" row="0" col="0" onTap="onSaveDosesTakenTodayTap" />
				<Button class="button my-button-small alert" text="{{ i18nCancelButtonText }}" row="0" col="1" onTap="onCancelDosesTakenTodayTap" />
			</GridLayout>
		</GridLayout>
		<StackLayout class="hr-light"></StackLayout>
		<GridLayout class="audio-button-row" rows="*" columns="*,*,*">
			<Button class="my-button audio-button enableAudio-button fa" text="&#xf29e;" visibility="{{ isAudioEnabled ? 'collapsed' : 'visible' }}" onTap="onAudioEnableTap" row="0" col="0" />
			<Button class="my-button audio-button enableAudio-button fa" text="&#xf29e;  &#xf046;" visibility="{{ isAudioEnabled ? 'visible' : 'collapsed' }}" onTap="onAudioEnableTap" row="0" col="0" />
			<Button class="my-button audio-button fa" text="&#xf04b;" isEnabled="{{ isAudioEnabled }}" onTap="onPlayTap" row="0" col="1" />
			<Button class="my-button audio-button fa" text="&#xf04d;" isEnabled="{{ isAudioEnabled }}" onTap="onStopTap" row="0" col="2" />
		</GridLayout>
	</StackLayout>
</Page>