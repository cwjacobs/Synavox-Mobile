<Page class="page" navigatingTo="onNavigatingTo" loaded="onLoaded" navigatingFrom="onNavigatingFrom" xmlns="http://schemas.nativescript.org/tns.xsd" xmlns:parallax="nativescript-parallax">
	<ActionBar class="action-bar">
		<!-- 
        Use the NavigationButton as a side-drawer button in Android
        because ActionItems are shown on the right side of the ActionBar
        -->
		<NavigationButton ios:visibility="collapsed" icon="res://menu" tap="onDrawerButtonTap"></NavigationButton>
		<ActionItem icon="res://navigation/menu" android:visibility="collapsed" tap="onDrawerButtonTap" ios.position="left"></ActionItem>
		<StackLayout>
			<Label class="action-bar-title" text="{{ i18nPageTitle }}"></Label>
			<Label class="action-bar-subtitle" text="{{ i18nSynavoxSubPageTitle }}"></Label>
		</StackLayout>
	</ActionBar>
	<StackLayout>
		<!-- height="75%" Positions buttons correctly on the bottom of the screen -->
		<parallax:ParallaxView height="75%" background="white">
			<parallax:Header class="header-template" dropShadow="false"></parallax:Header>
			<parallax:Anchored class="anchor" height="140vh">
				<StackLayout class="list-container">
					<Label class="title" text="{{ i18nMedicineCabinetOwner }}"></Label>
					<GridLayout rows="auto, auto" columns="auto, *">
						<TextField class="pairing-MedicineName fas" id="medicineName-input" text="{{ currentMedicineName }}" editable="{{ isMedicineNameEditable }}" hint="{{ i18nMedicineNameHint }}" returnKeyType="done" row="0" col="0" colSpan="1" />
						<Label style="horizontal-align: left; margin-left: 15vw" visibility="{{ isAddingNewMedicine ? 'visible' : 'collapsed' }}" class="pairing-TagIcon fas" id="current-medicine-name-listen-icon" text="&#xf130;" row="0" col="2" onTap="onStartListeningTap" />
						<Label class="pairing-TagId" style="margin-left: 7vw" text="{{ i18nPairedTagIdMsg }}" row="1" col="0" />
						<Label class="pairing-TagId" style="horizontal-align: right" text="{{ currentTagId }}" visibility="{{ isTagPaired ? 'visible' : 'collapsed' }}"  row="1" col="1" />
						<!-- <Label class="pairing-TagIcon right fa" text="&#xf02b;" visibility="{{ isTagPaired ? 'visible' : 'collapsed' }}"  row="1" col="2" /> -->
					</GridLayout>
				</StackLayout>
			</parallax:Anchored>
			<parallax:Content class="body-template list-container" height="550vh" background="white">
				<DockLayout width="auto" height="420vh" background="white">
					<ListView class="list-container" id="medicineList" items="{{ medicineList }}" itemTap="onItemTap" height="300vh" background="white" dock="top">
						<ListView.itemTemplate>
							<GridLayout rows="auto" columns="*,*,auto">
								<Label class="list-MedicineName" text="{{ medicineName }}" row="0" col="0" colSpan="2" />
								<!-- <Label class="list-TagId" text=" " row="0" col="2" /> -->
								<!-- <Label class="list-TagIcon fa" text="{{ getIsTagPaired(tagId) ? '&#xf02b;' : '' }}" row="0" col="2" /> -->
								<Label class="list-TagIcon fa" text="&#xf02b;" visibility="{{ tagId === '-1' ? 'collapsed' : 'visible' }}" row="0" col="2" />
							</GridLayout>
						</ListView.itemTemplate>
					</ListView>
					<StackLayout dock="bottom">
						<image src="~/images/logo.png" onTap="onLogoTap" height="auto" width="230vw" />
					</StackLayout>
				</DockLayout>
			</parallax:Content>
		</parallax:ParallaxView>
		<GridLayout class="list-container pair-button-row" rows="auto" columns="*,*,auto">
			<Button class="my-button alert fa" text="{{ i18nDeleteButtonText, i18nDeleteButtonText + ' &#xf014;' }} " onTap="onDeleteTap" row="0" col="0" />
			<Button class="my-button primary fa" text="{{ i18nSaveButtonText, i18nSaveButtonText + ' &#xf0c7;' }}" onTap="onSaveTap" row="0" col="1" />
			<Button class="my-button secondary fa" text="{{ i18nClearButtonText, i18nClearButtonText + ' &#xf12d;' }}" onTap="onClearTap" row="0" col="2" />
		</GridLayout>
		<StackLayout class="hr-light"></StackLayout>
		<GridLayout class="list-container audio-button-row" rows="70" columns="*,*,*">
			<Button class="my-button audio-button enableAudio-button fa" text="&#xf29e;" visibility="{{ isAudioEnabled ? 'collapsed' : 'visible' }}" onTap="onAudioEnableTap" row="0" col="0" />
			<Button class="my-button audio-button enableAudio-button fa" text="&#xf29e;  &#xf046;" visibility="{{ isAudioEnabled ? 'visible' : 'collapsed' }}" onTap="onAudioEnableTap" row="0" col="0" />
			<Button class="my-button audio-button fa" text="&#xf04b;" isEnabled="{{ isAudioEnabled }}" onTap="onPlayTap" row="0" col="1" />
			<Button class="my-button audio-button fa" text="&#xf04d;" isEnabled="{{ isAudioEnabled }}" onTap="onStopTap" row="0" col="2" />
		</GridLayout>
	</StackLayout>
</Page>